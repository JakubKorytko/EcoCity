<content>
  <main>
    <section>
      <h2>Submit Environmental Report</h2>
      <p>Help keep our city clean by reporting environmental issues</p>
      <div>
        <div>
          <SubmitCard type="waste" />
          <SubmitCard type="air" />
          <SubmitCard type="water" />
        </div>
        <form id="form">
          <div>
            <label for="title">Report Title *</label>
            <input
              type="text"
              id="title"
              name="title"
              required
              placeholder="Enter a clear title for your report"
            />
          </div>
          <div>
            <label for="location">Location *</label>
            <input
              type="text"
              id="location"
              name="location"
              required
              placeholder="Enter location"
            />
          </div>
          <div>
            <label for="description">Description *</label>
            <textarea
              id="description"
              rows="5"
              name="description"
              required
              placeholder="Provide detailed description of the environmental issue"
            ></textarea>
          </div>
          <div>
            <UploadFile />
          </div>
        </form>
        <div>
          <button class="button green-button" type="submit" form="form">
            Submit Report
          </button>
          <button class="button empty-green-button cancel">Cancel</button>
        </div>
      </div>
    </section>
  </main>
  <PageFooter />
</content>

<style>
  @import "/public/styles/globals.css";

  input[type="text"] {
    width: 100%;
  }

  :host {
    width: 100%;
    min-height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;

    main {
      display: flex;
      width: 100%;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;

      section {
        > div {
          padding: 32px;
          border-radius: 12px;
          background: #fff;
          display: flex;
          flex-direction: column;
          box-shadow:
            0 4px 6px -4px rgba(0, 0, 0, 0.1),
            0 10px 15px -3px rgba(0, 0, 0, 0.1),
            0 0 0 0 rgba(0, 0, 0, 0),
            0 0 0 0 rgba(0, 0, 0, 0);
          gap: 32px;

          > div {
            display: flex;
            flex-direction: row;
            gap: 16px;
          }

          > div:last-of-type {
            display: flex;
            flex-direction: row-reverse;
            align-items: flex-start;
          }
        }
      }
    }
  }
</style>

<script>
  import { notImplemented } from "/modules/helpers.pig";

  $element("button.cancel").on("click", (e) => {
    $navigate("/");
  });

  $element("button[type='submit']").on("click", (e) => {
    if ($element("form", HTMLFormElement.prototype).checkValidity()) {
      e.preventDefault();
      notImplemented("Add new report");
    }
  });
</script>
